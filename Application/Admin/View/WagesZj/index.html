<style>    table tr > td{width: 80px !important}    .inputs{border: none;width: 98%;height: 98%;text-align: center;}    .lvse{background-color: #31e62e;}    body {        overflow-x: scroll;        background-color: #fff;        width: 9000px;    }    .kecheng_bg{        background:yellow;!important;    }    .do_enter{        border-color: blue;    }    td{        text-align: center;    }</style><form method="post" id="form" action="#">    <div class="panel one-box">        <div class="table-responsive">            <table id="table" class="table table-hover table-bordered table-condensed">                <caption align="top">{$nianyue}{$school_name}校长、总监工资表</caption>                <input type="hidden" name="qishu" value="{$qishu}">                <input type="hidden" name="sid" value="{$sid}">                <thead>                <tr >                    <td colspan="35">基本工资</td>                    <td colspan="5">福利补贴</td>                </tr>                <tr>                    <td colspan="2"></td>                    <td>区域总监</td>                    <td>陈晓明区域</td>                    <td></td>                    <td></td>                    <td></td>                    <td></td>                    <td></td>                    <td></td>                    <td></td>                    <td>1</td>                    <td>2</td>                    <td>3</td>                    <td>4</td>                    <td>5</td>                    <td>6</td>                    <td>7</td>                    <td>8</td>                    <td>9</td>                    <td>10</td>                    <td>11</td>                    <td>12</td>                    <td>13</td>                    <td>14</td>                    <td>15</td>                    <td>16</td>                    <td>17</td>                    <td>18</td>                    <td>19</td>                    <td>20</td>                    <td>21</td>                    <td>22</td>                    <td>23</td>                    <td>24</td>                    <td>25</td>                    <td>26</td>                    <td>27</td>                    <td>28</td>                    <td>29</td>                                   </tr>                <tr>                    <td></td>                    <td></td>                    <td></td>                    <td></td>                    <td></td>                    <td></td>                    <td></td>                    <td></td>                    <td></td>                    <td></td>                    <td></td>                    <td></td>                    <td colspan="5">收入-支出</td>                    <td colspan="4">利润分配(含幼儿、小学、初中) </td>                    <td colspan="1">规模奖励 </td>                    <td colspan=""></td>                    <td colspan="3">校长营收考核奖励分成</td>                    <td colspan="14"></td>                </tr>                <tr>                    <td>序号</td>                    <td>月份</td>                    <td>分校</td>                    <td>部门</td>                    <td>二级部门</td>                    <td>岗位级别</td>                    <td>职位</td>                    <td>岗位类型</td>                    <td> 在职状态</td>                    <td>姓名</td>                    <td>身份证号</td>                    <td>入职日期</td>                    <td>收入</td>                    <td>支出</td>                    <td>现金净额</td>                    <td>是否开业前6个月内1.8倍</td>                    <td>净现金流分成</td>                    <td>利润分成</td>                    <!--<td>上月末正价在读学员数量</td>-->                    <!--<td>本月末正价在读学员数量</td>-->                    <!--<td>本月规模变化</td>-->                    <td>规模奖励分成</td>                    <td>退费考核分成</td>                    <td>周营收达标考核分成</td>                    <td>年度营收超额分成</td>                    <td>年度营收超超额分成</td>                    <td>开店奖励分成</td>                    <td>团队稳定分成</td>                    <td>素质基金</td>                    <td>考勤</td>                    <td>预发</td>                    <td>其他扣罚</td>                    <td>应发工资合计</td>                    <td>公积金</td>                    <td>个人社保</td>                    <td>个人所得税</td>                    <td>实发工资合计</td>                    <td>第一次发放基本工资</td>                    <td>公帐发放</td>                    <td>其他银行</td>                    <td>年平均工资</td>                    <td>年薪总计</td>                    <td>备注</td>                </tr>                </thead>                <tbody>                <foreach name="list" item="val">                    <tr>                        <td><input type="text" name="xuhao[]" value="{$val.xuhao}" readonly="true" class="inputs"></td>                        <td><input type="text" name="yuefen[]" value="{$val.yuefen}" readonly="true" class="inputs"></td>                        <td><input type="text" name="fenxiao[]" value="{$val.fenxiao}" readonly="true" class="inputs"></td>                        <td><input type="text" name="bumen[]" value="{$val.bumen}" readonly="true" class="inputs"></td>                        <td><input type="text" name="erjibm[]" value="{$val.erjibm}" readonly="true" class="inputs"></td>                        <td><input type="text" name="gangweijb[]" value="{$val.gangweijb}" readonly="true" class="inputs"></td>                        <td><input type="text" name="zhiwei[]" value="{$val.zhiwei}" readonly="true" class="inputs"></td>                        <td><input type="text" name="gangweilx[]" value="{$val.gangweilx}" readonly="true" class="inputs"></td>                        <td><input type="text" name="zaizhizt[]" value="{$val.zaizhizt}" readonly="true" class="inputs"></td>                        <td><input type="text" name="xingming[]" value="{$val.xingming}" readonly="true" class="inputs"></td>                        <td><input type="text" name="shenfenzhm[]" value="{$val.shenfenzhm}" readonly="true" class="inputs"></td>                        <td><input type="text" name="ruzhirq[]" value="{$val.ruzhirq}" readonly="true" class="inputs"></td>                        <td><input type="text" name="shouru[]" value="{$val.shouru}" readonly="true" class="inputs"></td>                        <td><input type="text" name="zhichu[]" value="{$val.zhichu}" readonly="true" class="inputs"></td>                        <td><input type="text" name="xianjinje[]" value="{$val.xianjinje}" readonly="true" class="inputs"></td>                        <td><input type="text" name="shifkyq[]" value="{$val.shifkyq}" readonly="true" class="inputs"></td>                        <td><input type="text" name="jingxianjlfc[]" value="{$val.jingxianjlfc}" class="inputs lvse"></td>                        <td><input type="text" name="lirunfc[]" value="{$val.lirunfc}" readonly="true" class="inputs"></td>                        <!--<td><input type="text" name="shangyuemzjzdxysl[]" value="{$val.shangyuemzjzdxysl}" readonly="true" class="inputs"></td>-->                        <!--<td><input type="text" name="benyuemzjzdxysl[]" value="{$val.benyuemzjzdxysl}" readonly="true" class="inputs"></td>-->                        <!--<td><input type="text" name="benyuegmbh[]" value="{$val.benyuegmbh}" readonly="true" class="inputs"></td>-->                        <td><input type="text" name="guimojlfc[]" value="{$val.guimojlfc}" readonly="true" class="inputs"></td>                        <td><input type="text" name="tuifeikhfc[]" value="{$val.tuifeikhfc}" readonly="true" class="inputs"></td>                        <td><input type="text" name="zhouyinsdbkhfc[]" value="{$val.zhouyinsdbkhfc}" readonly="true" class="inputs"></td>                        <td><input type="text" name="nianduyscefc[]" value="{$val.nianduyscefc}" class="inputs lvse"></td>                        <td><input type="text" name="nianduysccefc[]" value="{$val.nianduysccefc}" class="inputs lvse"></td>                        <td><input type="text" name="kaidianjlfc[]" value="{$val.kaidianjlfc}" class="inputs lvse"></td>                        <td><input type="text" name="tuanduiwdfc[]" value="{$val.tuanduiwdfc}" class="inputs lvse"></td>                        <td><input type="text" name="suzhijj[]" value="{$val.suzhijj}" readonly="true" class="inputs"></td>                        <td><input type="text" name="kaoqin[]" value="{$val.kaoqin}"  class="inputs  lvse"></td>                        <td><input type="text" name="yufa[]" value="{$val.yufa}" class="inputs  lvse"></td>                        <td><input type="text" name="qitakk[]" value="{$val.qitakk}" class="inputs  lvse"></td>                        <td><input type="text" name="yingfagzhj[]" value="{$val.yingfagzhj}" class="inputs"></td>                        <td><input type="text" name="gongjij[]" value="{$val.gongjij}" readonly="true" class="inputs"></td>                        <td><input type="text" name="gerensb[]" value="{$val.gerensb}" readonly="true" class="inputs"></td>                        <td><input type="text" name="gerensds[]" value="{$val.gerensds}" readonly="true" class="inputs"></td>                        <td><input type="text" name="shifagzhj[]" value="{$val.shifagzhj}" readonly="true" class="inputs"></td>                        <td><input type="text" name="diyicffjbgz[]" value="{$val.diyicffjbgz}" class="inputs  lvse"></td>                        <td><input type="text" name="gongzhangfaf[]" value="{$val.gongzhangfaf}" class="inputs  lvse"></td>                        <td><input type="text" name="qitayh[]" value="{$val.qitayh}" readonly="true" class="inputs"></td>                        <td><input type="text" name="nianpjgz[]" value="{$val.nianpjgz}" readonly="true" class="inputs"></td>                        <td><input type="text" name="nianxinzj[]" value="{$val.nianxinzj}" readonly="true" class="inputs"></td>                        <td><input type="text" name="beizhu[]" value="{$val.beizhu}" readonly="true" class="inputs"></td>                    </tr>                </foreach>                <tr>                    <td></td>                    <td></td>                    <td><input type="text" name="" value="合计" class="inputs"></td>                    <td></td>                    <td></td>                    <td></td>                    <td></td>                    <td></td>                    <td></td>                    <td></td>                    <td></td>                    <td></td>                    <td><input type="text" name="shouru_hj" value="{$val.shouru}" readonly="true" class="inputs"></td>                    <td><input type="text" name="zhichu_hj" value="{$val.zhichu}" readonly="true" class="inputs"></td>                    <td><input type="text" name="xianjinje_hj" value="{$val.xianjinje}" readonly="true" class="inputs"></td>                    <td><input type="text" name="shifkyq_hj" value="{$val.shifkyq}" readonly="true" class="inputs"></td>                    <td><input type="text" name="jingxianjlfc_hj" value="{$val.jingxianjlfc}" readonly="true" class="inputs"></td>                    <td><input type="text" name="lirunfc_hj" value="{$val.lirunfc}" readonly="true" class="inputs"></td>                    <!--<td><input type="text" name="shangyuemzjzdxysl_hj" value="{$val.shangyuemzjzdxysl}" readonly="true" class="inputs"></td>-->                    <!--<td><input type="text" name="benyuemzjzdxysl_hj" value="{$val.benyuemzjzdxysl}" readonly="true" class="inputs"></td>-->                    <!--<td><input type="text" name="benyuegmbh_hj" value="{$val.benyuegmbh}" readonly="true" class="inputs"></td>-->                    <td><input type="text" name="guimojlfc_hj" value="{$val.guimojlfc}" readonly="true" class="inputs"></td>                    <td><input type="text" name="tuifeikhfc_hj" value="{$val.tuifeikhfc}" readonly="true" class="inputs"></td>                    <td><input type="text" name="zhouyinsdbkhfc_hj" value="{$val.zhouyinsdbkhfc}" readonly="true" class="inputs"></td>                    <td><input type="text" name="nianduyscefc_hj" value="{$val.nianduyscefc}" readonly="true" class="inputs"></td>                    <td><input type="text" name="nianduysccefc_hj" value="{$val.nianduysccefc}" readonly="true" class="inputs"></td>                    <td><input type="text" name="kaidianjlfc_hj" value="{$val.kaidianjlfc}" readonly="true" class="inputs"></td>                    <td><input type="text" name="tuanduiwdfc_hj" value="{$val.tuanduiwdfc}" readonly="true" class="inputs"></td>                    <td><input type="text" name="suzhijj_hj" value="{$val.suzhijj}" readonly="true" class="inputs"></td>                    <td><input type="text" name="kaoqin_hj" value="{$val.kaoqin}" readonly="true" class="inputs"></td>                    <td><input type="text" name="yufa_hj" value="{$val.yufa}" readonly="true" class="inputs"></td>                    <td><input type="text" name="qitakk_hj" value="{$val.qitakk}" readonly="true" class="inputs"></td>                    <td><input type="text" name="yingfagzhj_hj" value="{$val.yingfagzhj}" readonly="true" class="inputs"></td>                    <td><input type="text" name="gongjij_hj" value="{$val.gongjij}" readonly="true" class="inputs"></td>                    <td><input type="text" name="gerensb_hj" value="{$val.gerensb}" readonly="true" class="inputs"></td>                    <td><input type="text" name="gerensds_hj" value="{$val.gerensds}" readonly="true" class="inputs"></td>                    <td><input type="text" name="shifagzhj_hj" value="{$val.shifagzhj}" readonly="true" class="inputs"></td>                    <td><input type="text" name="diyicffjbgz_hj" value="{$val.diyicffjbgz}" readonly="true" class="inputs"></td>                    <td><input type="text" name="gongzhangfaf_hj" value="{$val.gongzhangfaf}" readonly="true" class="inputs"></td>                    <td><input type="text" name="qitayh_hj" value="{$val.qitayh}" readonly="true" class="inputs"></td>                    <td><input type="text" name="nianpjgz_hj" value="{$val.nianpjgz}" readonly="true" class="inputs"></td>                    <td><input type="text" name="nianxinzj_hj" value="{$val.nianxinzj}" readonly="true" class="inputs"></td>                    <td><input type="text" name="beizhu_hj" value="{$val.beizhu}" readonly="true" class="inputs"></td>                </tr>                </tbody>            </table>        </div>    </div></form><br/><button class="button bg-red button-larger btn_save_even" onclick="saves()">保存</button><script>    $('.lvse').parent().css('background-color','#31e62e');    function jisuan(){    }    $('input').on('change ',function(){        //先计算其他要计算的部分在进行合计        jisuan();                var shouru = 0;        var zhichu = 0;        var xianjinje = 0;        var shifkyq = 0;        var jingxianjlfc = 0;        var lirunfc = 0;        var shangyuemzjzdxysl = 0;        var benyuemzjzdxysl = 0;        var benyuegmbh = 0;        var guimojlfc = 0;        var tuifeikhfc = 0;        var zhouyinsdbkhfc = 0;        var nianduyscefc = 0;        var nianduysccefc = 0;        var kaidianjlfc = 0;        var tuanduiwdfc = 0;        var suzhijj = 0;        var kaoqin = 0;        var yufa = 0;        var qitakk = 0;        var yingfagzhj = 0;        var gongjij = 0;        var gerensb = 0;        var gerensds = 0;        var shifagzhj = 0;        var diyicffjbgz = 0;        var gongzhangfaf = 0;        var qitayh = 0;        var nianpjgz = 0;        var nianxinzj = 0;        $('input[name="shouru[]"]').each(function(k,v){            shouru += parseFloat($(v).val() ? $(v).val() : 0)        })        $('input[name="shouru_hj"]').val(shouru);        $('input[name="zhichu[]"]').each(function(k,v){            zhichu += parseFloat($(v).val() ? $(v).val() : 0)        })        $('input[name="zhichu_hj"]').val(zhichu);        $('input[name="xianjinje[]"]').each(function(k,v){            xianjinje += parseFloat($(v).val() ? $(v).val() : 0)        })        $('input[name="xianjinje_hj"]').val(xianjinje);        $('input[name="shifkyq[]"]').each(function(k,v){            shifkyq += parseFloat($(v).val() ? $(v).val() : 0)        })        $('input[name="shifkyq_hj"]').val(shifkyq);         $('input[name="jingxianjlfc[]"]').each(function(k,v){            jingxianjlfc += parseFloat($(v).val() ? $(v).val() : 0)        })        $('input[name="jingxianjlfc_hj"]').val(jingxianjlfc);        $('input[name="lirunfc[]"]').each(function(k,v){            lirunfc += parseFloat($(v).val() ? $(v).val() : 0)        })        $('input[name="lirunfc_hj"]').val(lirunfc);        $('input[name="shangyuemzjzdxysl[]"]').each(function(k,v){            shangyuemzjzdxysl += parseFloat($(v).val() ? $(v).val() : 0)        })        $('input[name="shangyuemzjzdxysl_hj"]').val(shangyuemzjzdxysl);        $('input[name="benyuemzjzdxysl[]"]').each(function(k,v){            benyuemzjzdxysl += parseFloat($(v).val() ? $(v).val() : 0)        })        $('input[name="benyuemzjzdxysl_hj"]').val(benyuemzjzdxysl);        $('input[name="benyuegmbh[]"]').each(function(k,v){            benyuegmbh += parseFloat($(v).val() ? $(v).val() : 0)        })        $('input[name="benyuegmbh_hj"]').val(benyuegmbh);        $('input[name="guimojlfc[]"]').each(function(k,v){            guimojlfc += parseFloat($(v).val() ? $(v).val() : 0)        })        $('input[name="guimojlfc_hj"]').val(guimojlfc);        $('input[name="tuifeikhfc[]"]').each(function(k,v){            tuifeikhfc += parseFloat($(v).val() ? $(v).val() : 0)        })        $('input[name="tuifeikhfc_hj"]').val(tuifeikhfc);        $('input[name="zhouyinsdbkhfc[]"]').each(function(k,v){            zhouyinsdbkhfc += parseFloat($(v).val() ? $(v).val() : 0)        })        $('input[name="zhouyinsdbkhfc_hj"]').val(zhouyinsdbkhfc);        $('input[name="nianduyscefc[]"]').each(function(k,v){            nianduyscefc += parseFloat($(v).val() ? $(v).val() : 0)        })        $('input[name="nianduyscefc_hj"]').val(nianduyscefc);        $('input[name="nianduysccefc[]"]').each(function(k,v){            nianduysccefc += parseFloat($(v).val() ? $(v).val() : 0)        })        $('input[name="nianduysccefc_hj"]').val(nianduysccefc);        $('input[name="kaidianjlfc[]"]').each(function(k,v){            kaidianjlfc += parseFloat($(v).val() ? $(v).val() : 0)        })        $('input[name="kaidianjlfc_hj"]').val(kaidianjlfc);        $('input[name="tuanduiwdfc[]"]').each(function(k,v){            tuanduiwdfc += parseFloat($(v).val() ? $(v).val() : 0)        })        $('input[name="tuanduiwdfc_hj"]').val(tuanduiwdfc);        $('input[name="suzhijj[]"]').each(function(k,v){            suzhijj += parseFloat($(v).val() ? $(v).val() : 0)        })        $('input[name="suzhijj_hj"]').val(suzhijj);        $('input[name="kaoqin[]"]').each(function(k,v){            kaoqin += parseFloat($(v).val() ? $(v).val() : 0)        })        $('input[name="kaoqin_hj"]').val(kaoqin);        $('input[name="yufa[]"]').each(function(k,v){            yufa += parseFloat($(v).val() ? $(v).val() : 0)        })        $('input[name="yufa_hj"]').val(yufa);        $('input[name="qitakk[]"]').each(function(k,v){            qitakk += parseFloat($(v).val() ? $(v).val() : 0)        })        $('input[name="qitakk_hj"]').val(qitakk);        $('input[name="yingfagzhj[]"]').each(function(k,v){            yingfagzhj += parseFloat($(v).val() ? $(v).val() : 0)        })        $('input[name="yingfagzhj_hj"]').val(yingfagzhj);        $('input[name="gongjij[]"]').each(function(k,v){            gongjij += parseFloat($(v).val() ? $(v).val() : 0)        })        $('input[name="gongjij_hj"]').val(gongjij);        $('input[name="gerensb[]"]').each(function(k,v){            gerensb += parseFloat($(v).val() ? $(v).val() : 0)        })        $('input[name="gerensb_hj"]').val(gerensb);        $('input[name="gerensds[]"]').each(function(k,v){            gerensds += parseFloat($(v).val() ? $(v).val() : 0)        })        $('input[name="gerensds_hj"]').val(gerensds);        $('input[name="shifagzhj[]"]').each(function(k,v){            shifagzhj += parseFloat($(v).val() ? $(v).val() : 0)        })        $('input[name="shifagzhj_hj"]').val(shifagzhj);        $('input[name="diyicffjbgz[]"]').each(function(k,v){            diyicffjbgz += parseFloat($(v).val() ? $(v).val() : 0)        })        $('input[name="diyicffjbgz_hj"]').val(diyicffjbgz);        $('input[name="gongzhangfaf[]"]').each(function(k,v){            gongzhangfaf += parseFloat($(v).val() ? $(v).val() : 0)        })        $('input[name="gongzhangfaf_hj"]').val(gongzhangfaf);        $('input[name="qitayh[]"]').each(function(k,v){            qitayh += parseFloat($(v).val() ? $(v).val() : 0)        })        $('input[name="qitayh_hj"]').val(qitayh);        $('input[name="nianpjgz[]"]').each(function(k,v){            nianpjgz += parseFloat($(v).val() ? $(v).val() : 0)        })        $('input[name="nianpjgz_hj"]').val(nianpjgz);        $('input[name="nianxinzj[]"]').each(function(k,v){            nianxinzj += parseFloat($(v).val() ? $(v).val() : 0)        })        $('input[name="nianxinzj_hj"]').val(nianxinzj);    })        //提交代码    function saves(){        var data = new Array();        $('tbody tr').each(function(k,v){            data[k] = new Array();            $(v).find('td input').each(function(kd,vd){                data[k][kd] = $(vd).val();            })        })        //吧数组转对象        var json=[];        data.forEach(function(item){            var temp={};            item.forEach(function(value,index){                temp[index]=value;            });            json.push(temp);        })        var quyu = $('input[name="quyu"]').val();        var jibie = $('input[name="jibie"]').val();        var mubansj = $('input[name="mubansj"]').val();        var zhibiaoren = $('input[name="zhibiaoren"]').val();        var fenxiaofhr = $('input[name="fenxiaofhr"]').val();        var zongbushr = $('input[name="zongbushr"]').val();        var quyufhr = $('input[name="quyufhr"]').val();        var zongbushr = $('input[name="zongbushr"]').val();        var quyuxzrssh = $('input[name="quyuxzrssh"]').val();        // 把对象串型化        var json = JSON.stringify(data);        var input = '<input type="hidden" name="jsons" value=\''+json+'\' /><input type="hidden" name="qishu" value=\'{$qishu}\' /><input type="hidden" name="sid" value=\'{$sid}\' />';        input += '';        var form_=$("<form id='uss' action='{:U('WagesZj/saves')}' method='post'>"+input+"</form>"); //定义一个form表单        $('body').append(form_); //将表单放置在web中    //     form_.submit(); //表单提交         $.post('{:U('WagesZj/saves')}',$('#uss').serialize(),function(data){            if(data==1){                layer.msg('保存成功',{icon:1});                setTimeout("window.location.reload()",1000);            }else{                layer.msg('保存失败',{icon:2});            }        })    }</script>