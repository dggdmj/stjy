<style>    table tr > td{width: 80px !important}    .inputs{border: none;width: 98%;height: 98%;text-align: center;}    .lvse{background-color: #31e62e;}    body {        overflow-x: scroll;        background-color: #fff;        width: 9000px;    }    .kecheng_bg{        background:yellow;!important;    }    .do_enter{        border-color: blue;    }    td{        text-align: center;    }</style><form method="post" id="form" action="#">    <div class="panel one-box">        <div class="table-responsive">            <table id="table" class="table table-hover table-bordered table-condensed">                <caption align="top">{$nianyue}{$school_name}行政部工资表</caption>                <input type="hidden" name="qishu" value="{$qishu}">                <input type="hidden" name="sid" value="{$sid}">                <thead>                <tr >                    <td></td>                    <td></td>                    <td><input type="text" name="quyu" class="inputs lvse" autocomplete="off" value="{$fujia.quyu}"></td>                    <td colspan="2">基础信息</td>                    <td></td>                    <td></td>                    <td></td>                    <td></td>                    <td></td>                    <td></td>                    <td></td>                    <td></td>                    <td rowspan="3">基本工资</td>                    <td colspan="6">区域行政经理</td>                    <td colspan="16">分校行政专员 </td>                    <td colspan="13">财务专员 </td>                    <td > </td>                    <td colspan="3">代扣</td>                    <td> </td>                    <td> 备注</td>                </tr>                <tr>                    <td></td>                    <td></td>                    <td rowspan="2"><input type="text" name="jibie" class="inputs" readonly="true"  value="{$fujia.jibie}"></td>                    <td></td>                    <td></td>                    <td></td>                    <td></td>                    <td></td>                    <td></td>                    <td></td>                    <td></td>                    <td></td>                    <td></td>                    <td rowspan="2">1</td>                    <td rowspan="2">2</td>                    <td rowspan="2">3</td>                    <td rowspan="2">4</td>                    <td rowspan="2">5</td>                    <td rowspan="2"></td>                    <td rowspan="2" colspan="5">区域财务经理填写(需要计算阿米巴的单元格都要填写基础)</td>                    <td rowspan="2">1</td>                    <td rowspan="2">2</td>                    <td rowspan="2">3</td>                    <td rowspan="2">4</td>                    <td rowspan="2">5</td>                    <td rowspan="2">6</td>                    <td rowspan="2">7</td>                    <td rowspan="2">8</td>                    <td rowspan="2">9</td>                    <td rowspan="2">10</td>                    <td rowspan="2"></td>                    <td rowspan="2">1</td>                    <td rowspan="2">2</td>                    <td rowspan="2">3</td>                    <td rowspan="2">4</td>                    <td rowspan="2">5</td>                    <td rowspan="2">6</td>                    <td rowspan="2">7</td>                    <td rowspan="2">8</td>                    <td rowspan="2">9</td>                    <td rowspan="2" colspan="4"></td>                    <td rowspan="2"></td>                    <td rowspan="2">6</td>                    <td rowspan="2">7</td>                    <td rowspan="2">8</td>                    <td rowspan="2"></td>                    <td rowspan="2">9</td>                </tr>                <tr>                    <td></td>                    <td></td>                    <td></td>                    <td></td>                    <td></td>                    <td></td>                    <td></td>                    <td></td>                    <td></td>                    <td></td>                    <td></td>                    <td></td>                </tr>                <tr>                    <td>序号</td>                    <td>月份</td>                    <td>分校</td>                    <td>部门</td>                    <td>职位</td>                    <td>岗位类型</td>                    <td>在职状态</td>                    <td>姓名</td>                    <td>身份证</td>                    <td>入职时间</td>                    <td>工作年限</td>                    <td> 应出勤天数 </td>                    <td> 实际出勤天数 </td>                    <td>基本工资</td>                    <td>证件办理、年审、变更</td>                    <td>员工薪酬</td>                    <td>培训</td>                    <td>表格收集汇总</td>                    <td>其他（临时工作）</td>                    <td>小计</td>                    <td>学校面积</td>                    <td>在读人数</td>                    <td>收费金额</td>                    <td>在职人员</td>                    <td>出库套数</td>                    <td>学生服务管理</td>                    <td>员工服务管理</td>                    <td>卫生安全管理</td>                    <td>员工招聘</td>                    <td>成功招聘</td>                    <td>收费分成</td>                    <td>证件维护</td>                    <td>公章管理</td>                    <td>资料文件保管</td>                    <td>其他（临时工作）</td>                    <td>小计</td>                    <td>学生服务管理（财务）</td>                    <td>员工服务管理（财务）</td>                    <td>仓库管理（财务）</td>                    <td>收入核对录入（财务）</td>                    <td>支付审核（财务）</td>                    <td>系统维护</td>                    <td>分校筹建财务对接（财务）</td>                    <td>收资产管理（财务）</td>                    <td>其他（临时工作）</td>                    <td>小计</td>                    <td>素质基金扣缴</td>                    <td>其他扣罚</td>                    <td>浮动合计</td>                    <td>月度应发发总计</td>                    <td>公积金</td>                    <td>个人社保</td>                    <td>个人所得税</td>                    <td>月度实发总计</td>                    <td>备注</td>                </tr>                </thead>                <tbody>                <foreach name="list" key="k" item="vo">                    <tr>                        <td><input title="{$vo.xingming}:序号" type="text" name="xuhao[]" value="{$vo.xuhao}" readonly="true" class="inputs xuhao"></td>                        <td><input title="{$vo.xingming}:月份" type="text" name="yuefen[]" value="{$vo.yuefen}" readonly="true" class="inputs yuefen"></td>                        <td><input title="{$vo.xingming}:分校" type="text" name="fenxiao[]" value="{$vo.fenxiao}" readonly="true" class="inputs fenxiao"></td>                        <td><input title="{$vo.xingming}:部门" type="text" name="bumen[]" value="{$vo.bumen}" readonly="true" class="inputs bumen"></td>                        <td><input title="{$vo.xingming}:职位" type="text" name="zhiwei[]" value="{$vo.zhiwei}" readonly="true" class="inputs zhiwei"></td>                        <td><input title="{$vo.xingming}:岗位类型" type="text" name="gangweilx[]" value="{$vo.gangweilx}" readonly="true" class="inputs gangweilx"></td>                        <td><input title="{$vo.xingming}:在职状态" type="text" name="zaizhizt[]" value="{$vo.zaizhizt}" readonly="true" class="inputs zaizhizt"></td>                        <td><input title="{$vo.xingming}:姓名" type="text" name="xingming[]" value="{$vo.xingming}" readonly="true" class="inputs xingming"></td>                        <td><input title="{$vo.xingming}:身份证" type="text" name="shenfenzhm[]" value="{$vo.shenfenzhm}" readonly="true" class="inputs shenfenzhm"></td>                        <td><input title="{$vo.xingming}:入职时间" type="text" name="ruzhisj[]" value="{$vo.ruzhisj}" readonly="true" class="inputs ruzhisj"></td>                        <td><input title="{$vo.xingming}:工作年限" type="text" name="gongzuonx[]" value="{$vo.gongzuonx}" readonly="true" class="inputs gongzuonx"></td>                        <td><input title="{$vo.xingming}:应出勤天数" type="text" name="yingchuqts[]" value="{$vo.yingchuqts}" readonly="true" class="inputs yingchuqts"></td>                        <td><input title="{$vo.xingming}:实际出勤天数" type="text" name="shijicqts[]" value="{$vo.shijicqts}" readonly="true" class="inputs shijicqts"></td>                        <td><input title="{$vo.xingming}:基本工资" type="text" name="jibengz[]" value="{$vo.jibengz}" class="inputs lvse jibengz"></td>                        <td><input title="{$vo.xingming}:证件办理、年审、变更" type="text" name="zhengjianbl[]" value="{$vo.zhengjianbl}"  class="inputs zhengjianbl lvse"></td>                        <td><input title="{$vo.xingming}:员工薪酬" type="text" name="yuangongxc[]" value="{$vo.yuangongxc}"  class="inputs yuangongxc lvse"></td>                        <td><input title="{$vo.xingming}:培训" type="text" name="peixun[]" value="{$vo.peixun}"  class="inputs peixun lvse"></td>                        <td><input title="{$vo.xingming}:表格收集汇总" type="text" name="biaogesjkz[]" value="{$vo.biaogesjkz}"  class="inputs biaogesjkz lvse"></td>                        <td><input title="{$vo.xingming}:其他（临时工作）" type="text" name="qita[]" value="{$vo.qita}" class="inputs qita lvse"></td>                        <td><input title="{$vo.xingming}:小计" type="text" name="xiaoji[]" value="{$vo.xiaoji}"  class="inputs xiaoji" readonly="true"></td>                        <td><input title="{$vo.xingming}:学校面积" type="text" name="xuexiaomz[]" value="{$vo.xuexiaomz}"  class="inputs xuexiaomz lvse"></td>                        <td><input title="{$vo.xingming}:在读人数" type="text" name="zaidurs[]" value="{$vo.zaidurs}"  class="inputs zaidurs lvse"></td>                        <td><input title="{$vo.xingming}:收费金额" type="text" name="shoufeije[]" value="{$vo.shoufeije}"  class="inputs shoufeije lvse"></td>                        <td><input title="{$vo.xingming}:在职人员" type="text" name="zaizhiyy[]" value="{$vo.zaizhiyy}"  class="inputs zaizhiyy lvse"></td>                        <td><input title="{$vo.xingming}:出库套数" type="text" name="chukuts[]" value="{$vo.chukuts}"  class="inputs chukuts lvse"></td>                        <td><input title="{$vo.xingming}:学生服务管理" type="text" name="xueshengfwgl[]" value="{$vo.xueshengfwgl}" readonly="true" class="inputs xueshengfwgl"></td>                        <td><input title="{$vo.xingming}:员工服务管理" type="text" name="yuangongfwgl[]" value="{$vo.yuangongfwgl}" readonly="true" class="inputs yuangongfwgl"></td>                        <td><input title="{$vo.xingming}:卫生安全管理" type="text" name="weishengaqgl[]" value="{$vo.weishengaqgl}" readonly="true" class="inputs weishengaqgl"></td>                        <td><input title="{$vo.xingming}:员工招聘" type="text" name="yuangongzp[]" value="{$vo.yuangongzp}"  class="inputs yuangongzp lvse"></td>                        <td><input title="{$vo.xingming}:成功招聘" type="text" name="chenggongzp[]" value="{$vo.chenggongzp}"  class="inputs chenggongzp lvse"></td>                        <td><input title="{$vo.xingming}:收费分成" type="text" name="shoufeifc[]" value="{$vo.shoufeifc}"  class="inputs shoufeifc"></td>                        <td><input title="{$vo.xingming}:证件维护" type="text" name="zhengjianwh[]" value="{$vo.zhengjianwh}"  class="inputs zhengjianwh lvse"></td>                        <td><input title="{$vo.xingming}:公章管理" type="text" name="gongzhanggl[]" value="{$vo.gongzhanggl}"  class="inputs gongzhanggl lvse"></td>                        <td><input title="{$vo.xingming}:资料文件保管" type="text" name="ziliaowjbg[]" value="{$vo.ziliaowjbg}"  class="inputs ziliaowjbg lvse"></td>                        <td><input title="{$vo.xingming}:其他（临时工作）" type="text" name="qita2[]" value="{$vo.qita2}"  class="inputs qita2 lvse"></td>                        <td><input title="{$vo.xingming}:小计" type="text" name="xiaoji2[]" value="{$vo.xiaoji2}"  class="inputs xiaoji2"  readonly="true"></td>                        <td><input title="{$vo.xingming}:学生服务管理" type="text" name="xueshengfwglcw[]" value="{$vo.xueshengfwglcw}" readonly="true" class="inputs xueshengfwglcw"></td>                        <td><input title="{$vo.xingming}:员工服务管理" type="text" name="yuangongfwglcw[]" value="{$vo.yuangongfwglcw}" readonly="true" class="inputs yuangongfwglcw"></td>                        <td><input title="{$vo.xingming}:仓库管理" type="text" name="cangkuglcw[]" value="{$vo.cangkuglcw}" readonly="true" class="inputs cangkuglcw"></td>                        <td><input title="{$vo.xingming}:收入核对录入" type="text" name="shouruhdlrcw[]" value="{$vo.shouruhdlrcw}"  class="inputs shouruhdlrcw lvse"></td>                        <td><input title="{$vo.xingming}:支付审核" type="text" name="zhifushcw[]" value="{$vo.zhifushcw}"  class="inputs zhifushcw lvse"></td>                        <td><input title="{$vo.xingming}:系统维护" type="text" name="xitongwhcw[]" value="{$vo.xitongwhcw}"  class="inputs xitongwhcw lvse"></td>                        <td><input title="{$vo.xingming}:分校筹建财务对接" type="text" name="fenxiaocjcwdjcw[]" value="{$vo.fenxiaocjcwdjcw}"  class="inputs fenxiaocjcwdjcw lvse"></td>                        <td><input title="{$vo.xingming}:收资产管理" type="text" name="zichanglcw[]" value="{$vo.zichanglcw}"  class="inputs zichanglcw lvse"></td>                        <td><input title="{$vo.xingming}:其他" type="text" name="qita3[]" value="{$vo.qita3}"  class="inputs qita3 lvse"></td>                        <td><input title="{$vo.xingming}:小计" type="text" name="xiaoji3[]" value="{$vo.xiaoji3}"  class="inputs xiaoji3"  readonly="true"></td>                        <td><input title="{$vo.xingming}:素质基金扣缴" type="text" name="suzhizjkj[]" value="{$vo.suzhizjkj}"  class="inputs suzhizjkj lvse"></td>                        <td><input title="{$vo.xingming}:其他扣罚" type="text" name="qitakf[]" value="{$vo.qitakf}"  class="inputs qitakf lvse"></td>                        <td><input title="{$vo.xingming}:浮动合计" type="text" name="fudonghj[]" value="{$vo.fudonghj}" readonly="true" class="inputs fudonghj"></td>                        <td><input title="{$vo.xingming}:月度应发发总计" type="text" name="yueduyffzj[]" value="{$vo.yueduyffzj}" readonly="true"  class="inputs yueduyffzj"></td>                        <td><input title="{$vo.xingming}:公积金" type="text" name="gongjij[]" value="{$vo.gongjij}" readonly="true"  class="inputs gongjij"></td>                        <td><input title="{$vo.xingming}:个人社保" type="text" name="gerensb[]" value="{$vo.gerensb}" readonly="true"  class="inputs gerensb"></td>                        <td><input title="{$vo.xingming}:个人所得税" type="text" name="gerensds[]" value="{$vo.gerensds}" readonly="true"  class="inputs gerensds"></td>                        <td><input title="{$vo.xingming}:月度实发总计" type="text" name="yuedusfzj[]" value="{$vo.yuedusfzj}" readonly="true"  class="inputs yuedusfzj"></td>                        <td><input title="{$vo.xingming}:备注" type="text" name="beizhu[]" value="{$vo.beizhu}" class="inputs beizhu lvse"></td>                    </tr>                </foreach>                <tr>                    <td colspan="13">合计<input type="hidden" name="" value="合计"></td>                    <td><input type="text" name="jibengz_hj" readonly="true" class="inputs" value="{$heji.jibengz}" ></td>                    <td><input type="text" name="zhengjianbl_hj" value="{$heji.zhengjianbl}" readonly="true" class="inputs"></td>                    <td><input type="text" name="yuangongxc_hj" value="{$heji.yuangongxc}" readonly="true" class="inputs"></td>                    <td><input type="text" name="peixun_hj" value="{$heji.peixun}" readonly="true" class="inputs"></td>                    <td><input type="text" name="biaogesjkz_hj" value="{$heji.biaogesjkz}" readonly="true" class="inputs"></td>                    <td><input type="text" name="qita_hj" value="{$heji.qita}" readonly="true" class="inputs"></td>                    <td><input type="text" name="xiaoji_hj" value="{$heji.xiaoji}" readonly="true" class="inputs"></td>                    <td><input type="text" name="xuexiaomz_hj" value="{$fujia.xuexiaomz}" readonly="true" class="inputs"></td>                    <td><input type="text" name="zaidurs_hj" value="{$fujia.zaidurs}" readonly="true" class="inputs"></td>                    <td><input type="text" name="shoufeije_hj" value="{$fujia.shoufeije}" readonly="true" class="inputs"></td>                    <td><input type="text" name="zaizhiyy_hj" value="{$heji.zaizhiyy}" readonly="true" class="inputs"></td>                    <td><input type="text" name="chukuts_hj" value="{$heji.chukuts}" readonly="true" class="inputs"></td>                    <td><input type="text" name="xueshengfwgl_hj" value="{$heji.xueshengfwgl}" readonly="true" class="inputs"></td>                    <td><input type="text" name="yuangongfwgl_hj" value="{$heji.yuangongfwgl}" readonly="true" class="inputs"></td>                    <td><input type="text" name="weishengaqgl_hj" value="{$heji.weishengaqgl}" readonly="true" class="inputs"></td>                    <td><input type="text" name="yuangongzp_hj" value="{$heji.yuangongzp}" readonly="true" class="inputs"></td>                    <td><input type="text" name="chenggongzp_hj" value="{$heji.chenggongzp}" readonly="true" class="inputs"></td>                    <td><input type="text" name="shoufeifc_hj" value="{$heji.shoufeifc}" readonly="true" class="inputs"></td>                    <td><input type="text" name="zhengjianwh_hj" value="{$heji.zhengjianwh}" readonly="true" class="inputs"></td>                    <td><input type="text" name="gongzhanggl_hj" value="{$heji.gongzhanggl}" readonly="true" class="inputs"></td>                    <td><input type="text" name="ziliaowjbg_hj" value="{$heji.ziliaowjbg}" readonly="true" class="inputs"></td>                    <td><input type="text" name="qita2_hj" value="{$heji.qita2}" readonly="true" class="inputs"></td>                    <td><input type="text" name="xiaoji2_hj" value="{$heji.xiaoji2}" readonly="true" class="inputs"></td>                    <td><input type="text" name="xueshengfwglcw_hj" value="{$heji.xueshengfwglcw}" readonly="true" class="inputs"></td>                    <td><input type="text" name="yuangongfwglcw_hj" value="{$heji.yuangongfwglcw}" readonly="true" class="inputs"></td>                    <td><input type="text" name="cangkuglcw_hj" value="{$heji.cangkuglcw}" readonly="true" class="inputs"></td>                    <td><input type="text" name="shouruhdlrcw_hj" value="{$heji.shouruhdlrcw}" readonly="true" class="inputs"></td>                    <td><input type="text" name="zhifushcw_hj" value="{$heji.zhifushcw}" readonly="true" class="inputs"></td>                    <td><input type="text" name="xitongwhcw_hj" value="{$heji.xitongwhcw}" readonly="true" class="inputs"></td>                    <td><input type="text" name="fenxiaocjcwdjcw_hj" value="{$heji.fenxiaocjcwdjcw}" readonly="true" class="inputs"></td>                    <td><input type="text" name="zichanglcw_hj" value="{$heji.zichanglcw}" readonly="true" class="inputs"></td>                    <td><input type="text" name="qita3_hj" value="{$heji.qita3}" readonly="true" class="inputs"></td>                    <td><input type="text" name="xiaoji3_hj" value="{$heji.xiaoji3}" readonly="true" class="inputs"></td>                    <td><input type="text" name="suzhizjkj_hj" value="{$heji.suzhizjkj}" readonly="true" class="inputs"></td>                    <td><input type="text" name="qitakf_hj" value="{$heji.qitakf}" readonly="true" class="inputs"></td>                    <td><input type="text" name="fudonghj_hj" value="{$heji.fudonghj}" readonly="true" class="inputs"></td>                    <td><input type="text" name="yueduyffzj_hj" value="{$heji.yueduyffzj}" readonly="true" class="inputs"></td>                    <td><input type="text" name="gongjij_hj" value="{$heji.gongjij}" readonly="true" class="inputs"></td>                    <td><input type="text" name="gerensb_hj" value="{$heji.gerensb}" readonly="true" class="inputs"></td>                    <td><input type="text" name="gerensds_hj" value="{$heji.gerensds}" readonly="true" class="inputs"></td>                    <td><input type="text" name="yuedusfzj_hj" value="{$heji.yuedusfzj}" readonly="true" class="inputs"></td>                    <td><input type="text" name="beizhu_hj" value="{$heji.beizhu}" readonly="true" class="inputs"></td>                </tr>                </tbody>                <tr>                    <td>模板设计：</td>                    <td><input type="text" name="mubansj" value="{$fujia.mubansj}" class="inputs lvse"></td>                    <td colspan="2"></td>                    <td> 制表人： </td>                    <td><input type="text" name="zhibiaoren" value="{$fujia.zhibiaoren}" class="inputs lvse"></td>                    <td colspan="2"></td>                    <td>分校复核人：</td>                    <td><input type="text" name="fenxiaofhr" value="{$fujia.fenxiaofhr}" class="inputs lvse"></td>                    <td colspan="2"></td>                    <td> 总部审核人： </td>                    <td><input type="text" name="zongbushr" value="{$fujia.zongbushr}" class="inputs lvse"></td>                    <td colspan="2"></td>                    <td> 区域复核人： </td>                    <td><input type="text" name="quyufhr" value="{$fujia.quyufhr}" class="inputs lvse"></td>                    <td colspan="2"></td>                    <td> 总部审核： </td>                    <td><input type="text" name="zongbush" value="{$fujia.zongbush}" class="inputs lvse"></td>                    <td colspan="2"></td>                    <td> 区域行政人事审核： </td>                    <td><input type="text" name="quyuxzrssh" value="{$fujia.quyuxzrssh}" class="inputs lvse"></td>                    <td colspan="2"></td>                </tr>            </table>        </div>    </div></form><br/><button class="button bg-red button-larger btn_save_even" onclick="saves()">保存</button><script>    $('.lvse').parent().css('background-color','#31e62e');    $('input').on('change ',function(){        //先计算其他要计算的部分在进行合计        jisuan();        //合计        var jibengz = 0;//基本工资        var zhengjianbl = 0;//证件办理        var yuangongxc = 0;//员工薪酬        var peixun = 0;//培训        var biaogesjkz = 0;//表格收集汇总        var qita = 0;//其他（临时工作）        var xiaoji = 0;//小计        var xuexiaomz = 0;//学校面积        var zaidurs = 0;//在读人数        var shoufeije = 0;//收费金额        var zaizhiyy = 0;//在职人员        var chukuts = 0;//出库套数        var xueshengfwgl = 0;//学生服务管理        var yuangongfwgl = 0;//员工服务管理        var weishengaqgl = 0;//卫生安全管理        var yuangongzp = 0;//员工招聘        var chenggongzp = 0;//成功招聘        var shoufeifc = 0;//收费分成        var zhengjianwh = 0;//证件维护        var gongzhanggl = 0;//公章管理        var ziliaowjbg = 0;//资料文件保管        var qita2 = 0;//其他（临时工作）        var xiaoji2 = 0;//小计        var xueshengfwglcw = 0;//学生服务管理（财务）        var yuangongfwglcw = 0;//员工服务管理（财务）        var cangkuglcw = 0;//仓库管理（财务）        var shouruhdlrcw = 0;//收入核对录入（财务）        var zhifushcw = 0;//支付审核（财务）        var xitongwhcw = 0;//系统维护        var fenxiaocjcwdjcw = 0;//分校筹建财务对接（财务）        var zichanglcw = 0;//资产管理（财务）        var qita3 = 0;//其他（临时工作）        var xiaoji3 = 0;//小计3        var suzhizjkj = 0;//素质基金扣缴        var qitakf = 0;//其他扣罚        var fudonghj = 0;//浮动合计        var yueduyffzj = 0;//月度应发发总计        var gongjij = 0;//公积金        var gerensb = 0;//个人社保         var gerensds = 0;// 个人所得税         var yuedusfzj = 0;//月度实发总计        //横向小计        $('input[name="xiaoji[]"]').each(function(k,v){            $(v).val(                 parseFloat( $('input[name="zhengjianbl[]"]').eq(k).val() ? $('input[name="zhengjianbl[]"]').eq(k).val() : 0) +                 parseFloat( $('input[name="yuangongxc[]"]').eq(k).val()  ? $('input[name="yuangongxc[]"]').eq(k).val() : 0) +                 parseFloat( $('input[name="peixun[]"]').eq(k).val()     ?  $('input[name="peixun[]"]').eq(k).val() : 0) +                 parseFloat( $('input[name="biaogesjkz[]"]').eq(k).val() ? $('input[name="biaogesjkz[]"]').eq(k).val() : 0 ) +                 parseFloat( $('input[name="qita[]"]').eq(k).val()     ?  $('input[name="qita[]"]').eq(k).val() : 0 ) +                parseFloat( $('input[name="jibengz[]"]').eq(k).val()     ?  $('input[name="jibengz[]"]').eq(k).val() : 0 )            );        })        //横向小计2        $('input[name="xiaoji2[]"]').each(function(k,v){            $(v).val(                 parseFloat( $('input[name="xueshengfwgl[]"]').eq(k).val() ? $('input[name="xueshengfwgl[]"]').eq(k).val() : 0) +                 parseFloat( $('input[name="yuangongfwgl[]"]').eq(k).val()  ? $('input[name="yuangongfwgl[]"]').eq(k).val() : 0) +                 parseFloat( $('input[name="weishengaqgl[]"]').eq(k).val()     ?  $('input[name="weishengaqgl[]"]').eq(k).val() : 0) +                 parseFloat( $('input[name="yuangongzp[]"]').eq(k).val() ? $('input[name="yuangongzp[]"]').eq(k).val() : 0 ) +                 parseFloat( $('input[name="chenggongzp[]"]').eq(k).val()     ?  $('input[name="chenggongzp[]"]').eq(k).val() : 0 )+                 parseFloat( $('input[name="shoufeifc[]"]').eq(k).val()     ?  $('input[name="shoufeifc[]"]').eq(k).val() : 0 )+                 parseFloat( $('input[name="zhengjianwh[]"]').eq(k).val()     ?  $('input[name="zhengjianwh[]"]').eq(k).val() : 0 )+                 parseFloat( $('input[name="gongzhanggl[]"]').eq(k).val()     ?  $('input[name="gongzhanggl[]"]').eq(k).val() : 0 )+                 parseFloat( $('input[name="ziliaowjbg[]"]').eq(k).val()     ?  $('input[name="ziliaowjbg[]"]').eq(k).val() : 0 )+                 parseFloat( $('input[name="qita2[]"]').eq(k).val()     ?  $('input[name="qita2[]"]').eq(k).val() : 0 )            );        })        //横向小计3        $('input[name="xiaoji3[]"]').each(function(k,v){            $(v).val(                 parseFloat( $('input[name="xueshengfwglcw[]"]').eq(k).val() ? $('input[name="xueshengfwglcw[]"]').eq(k).val() : 0) +                 parseFloat( $('input[name="yuangongfwglcw[]"]').eq(k).val()  ? $('input[name="yuangongfwglcw[]"]').eq(k).val() : 0) +                 parseFloat( $('input[name="cangkuglcw[]"]').eq(k).val()     ?  $('input[name="cangkuglcw[]"]').eq(k).val() : 0) +                 parseFloat( $('input[name="shouruhdlrcw[]"]').eq(k).val() ? $('input[name="shouruhdlrcw[]"]').eq(k).val() : 0 ) +                 parseFloat( $('input[name="zhifushcw[]"]').eq(k).val()     ?  $('input[name="zhifushcw[]"]').eq(k).val() : 0 )+                 parseFloat( $('input[name="xitongwhcw[]"]').eq(k).val()     ?  $('input[name="xitongwhcw[]"]').eq(k).val() : 0 )+                 parseFloat( $('input[name="fenxiaocjcwdjcw[]"]').eq(k).val()     ?  $('input[name="fenxiaocjcwdjcw[]"]').eq(k).val() : 0 )+                 parseFloat( $('input[name="zichanglcw[]"]').eq(k).val()     ?  $('input[name="zichanglcw[]"]').eq(k).val() : 0 )+                 parseFloat( $('input[name="qita3[]"]').eq(k).val()     ?  $('input[name="qita3[]"]').eq(k).val() : 0 )             );        })        //浮动合计        $('input[name="fudonghj[]"]').each(function(k,v){            $(v).val(                 parseFloat( $('input[name="xiaoji[]"]').eq(k).val() ? $('input[name="xiaoji[]"]').eq(k).val() : 0) +                parseFloat( $('input[name="xiaoji2[]"]').eq(k).val() ? $('input[name="xiaoji2[]"]').eq(k).val() : 0) +                parseFloat( $('input[name="xiaoji3[]"]').eq(k).val() ? $('input[name="xiaoji3[]"]').eq(k).val() : 0) +                parseFloat( $('input[name="suzhizjkj[]"]').eq(k).val() ? $('input[name="suzhizjkj[]"]').eq(k).val() : 0) +                parseFloat( $('input[name="qitakf[]"]').eq(k).val() ? $('input[name="qitakf[]"]').eq(k).val() : 0)             );            //月度应发发总计            $('input[name="yueduyffzj[]"]').eq(k).val( $(v).val() );        })        //月度实发总计        $('input[name="yuedusfzj[]"]').each(function(k,v){            $(v).val(                 parseFloat( $('input[name="yueduyffzj[]"]').eq(k).val() ? $('input[name="yueduyffzj[]"]').eq(k).val() : 0) -                parseFloat( $('input[name="gongjij[]"]').eq(k).val() ? $('input[name="gongjij[]"]').eq(k).val() : 0) -                parseFloat( $('input[name="gerensb[]"]').eq(k).val() ? $('input[name="gerensb[]"]').eq(k).val() : 0) -                parseFloat( $('input[name="gerensds[]"]').eq(k).val() ? $('input[name="gerensds[]"]').eq(k).val() : 0)            );        })        //基本工资        $('input[name="jibengz[]"]').each(function(k,v){            if ($(v).val() > 0){                jibengz += parseFloat($(v).val());            }        })        $('input[name="jibengz_hj"]').val(jibengz);        // 证件办理        $('input[name="zhengjianbl[]"]').each(function(k,v){            if ($(v).val() > 0){                zhengjianbl += parseFloat($(v).val());            }        })        $('input[name="zhengjianbl_hj"]').val(zhengjianbl);        // 员工薪酬        $('input[name="yuangongxc[]"]').each(function(k,v){            if ($(v).val() > 0){                yuangongxc += parseFloat($(v).val());            }        })        $('input[name="yuangongxc_hj"]').val(yuangongxc);        //培训        $('input[name="peixun[]"]').each(function(k,v){            if ($(v).val() > 0){                peixun += parseFloat($(v).val());            }        })        $('input[name="peixun_hj"]').val(peixun);        //表格收集汇总        $('input[name="biaogesjkz[]"]').each(function(k,v){            if ($(v).val() > 0){                biaogesjkz += parseFloat($(v).val());            }        })        $('input[name="biaogesjkz_hj"]').val(biaogesjkz);        //其他        $('input[name="qita[]"]').each(function(k,v){            if ($(v).val() > 0){                qita += parseFloat($(v).val());            }        })        $('input[name="qita_hj"]').val(qita);        //小计        $('input[name="xiaoji[]"]').each(function(k,v){            if ($(v).val() > 0){                xiaoji += parseFloat($(v).val());            }        })        $('input[name="xiaoji_hj"]').val(xiaoji);        /*            学校面积 - 出库套数         */        // 学生服务管理yuangongfwgl        $('input[name="xueshengfwgl[]"]').each(function(k,v){            if ($(v).val() > 0){                xueshengfwgl += parseFloat($(v).val());            }        })        $('input[name="xueshengfwgl_hj"]').val(xueshengfwgl);        // 员工服务管理        $('input[name="yuangongfwgl[]"]').each(function(k,v){            if ($(v).val() > 0){                yuangongfwgl += parseFloat($(v).val());            }        })        $('input[name="yuangongfwgl_hj"]').val(yuangongfwgl);        // 卫生安全管理        $('input[name="weishengaqgl[]"]').each(function(k,v){            if ($(v).val() > 0){                weishengaqgl += parseFloat($(v).val());            }        })        $('input[name="weishengaqgl_hj"]').val(weishengaqgl);        // 员工招聘        $('input[name="yuangongzp[]"]').each(function(k,v){            if ($(v).val() > 0){                yuangongzp += parseFloat($(v).val());            }        })        $('input[name="yuangongzp_hj"]').val(yuangongzp);        // 成功招聘        $('input[name="chenggongzp[]"]').each(function(k,v){            if ($(v).val() > 0){                chenggongzp += parseFloat($(v).val());            }        })        $('input[name="chenggongzp_hj"]').val(chenggongzp);        // 收费分成        $('input[name="shoufeifc[]"]').each(function(k,v){            if ($(v).val() > 0){                shoufeifc += parseFloat($(v).val());            }        })        $('input[name="shoufeifc_hj"]').val(shoufeifc);        // 证件维护        $('input[name="zhengjianwh[]"]').each(function(k,v){            if ($(v).val() > 0){                zhengjianwh += parseFloat($(v).val());            }        })        $('input[name="zhengjianwh_hj"]').val(zhengjianwh);        // 公章管理        $('input[name="gongzhanggl[]"]').each(function(k,v){            if ($(v).val() > 0){                gongzhanggl += parseFloat($(v).val());            }        })        $('input[name="gongzhanggl_hj"]').val(gongzhanggl);        // 资料文件保管        $('input[name="ziliaowjbg[]"]').each(function(k,v){            if ($(v).val() > 0){                ziliaowjbg += parseFloat($(v).val());            }        })        $('input[name="ziliaowjbg_hj"]').val(ziliaowjbg);        // 其他      （临时工作）        $('input[name="qita2[]"]').each(function(k,v){            if ($(v).val() > 0){                qita2 += parseFloat($(v).val());            }        })        $('input[name="qita2_hj"]').val(qita2);        // 小计        $('input[name="xiaoji2[]"]').each(function(k,v){            if ($(v).val() > 0){                xiaoji2 += parseFloat($(v).val());            }        })        $('input[name="xiaoji2_hj"]').val(xiaoji2);         // 学生服务管理（财务）        $('input[name="xueshengfwglcw[]"]').each(function(k,v){            if ($(v).val() > 0){                xueshengfwglcw += parseFloat($(v).val());            }        })        $('input[name="xueshengfwglcw_hj"]').val(xueshengfwglcw);        // 员工服务管理（财务）        $('input[name="yuangongfwglcw[]"]').each(function(k,v){            if ($(v).val() > 0){                yuangongfwglcw += parseFloat($(v).val());            }        })        $('input[name="yuangongfwglcw_hj"]').val(yuangongfwglcw);        // 仓库管理（财务）        $('input[name="cangkuglcw[]"]').each(function(k,v){            if ($(v).val() > 0){                cangkuglcw += parseFloat($(v).val());            }        })        $('input[name="cangkuglcw_hj"]').val(cangkuglcw);        // 收入核对录入（财务）        $('input[name="shouruhdlrcw[]"]').each(function(k,v){            if ($(v).val() > 0){                shouruhdlrcw += parseFloat($(v).val());            }        })        $('input[name="shouruhdlrcw_hj"]').val(shouruhdlrcw);        // 支付审核（财务）        $('input[name="zhifushcw[]"]').each(function(k,v){            if ($(v).val() > 0){                zhifushcw += parseFloat($(v).val());            }        })        $('input[name="zhifushcw_hj"]').val(zhifushcw);        // 系统维护        $('input[name="xitongwhcw[]"]').each(function(k,v){            if ($(v).val() > 0){                xitongwhcw += parseFloat($(v).val());            }        })        $('input[name="xitongwhcw_hj"]').val(xitongwhcw);        // 分校筹建财务对接（财务）        $('input[name="fenxiaocjcwdjcw[]"]').each(function(k,v){            if ($(v).val() > 0){                fenxiaocjcwdjcw += parseFloat($(v).val());            }        })        $('input[name="fenxiaocjcwdjcw_hj"]').val(fenxiaocjcwdjcw);        // 资产管理（财务）        $('input[name="zichanglcw[]"]').each(function(k,v){            if ($(v).val() > 0){                zichanglcw += parseFloat($(v).val());            }        })        $('input[name="zichanglcw_hj"]').val(zichanglcw);        // 其他（临时工作）        $('input[name="qita3[]"]').each(function(k,v){            if ($(v).val() > 0){                qita3 += parseFloat($(v).val());            }        })        $('input[name="qita3_hj"]').val(qita3);        // 小计        $('input[name="xiaoji3[]"]').each(function(k,v){            if ($(v).val() > 0){                xiaoji3 += parseFloat($(v).val());            }        })        $('input[name="xiaoji3_hj"]').val(xiaoji3);        // 素质基金扣缴        $('input[name="suzhizjkj[]"]').each(function(k,v){            if ($(v).val() > 0){                suzhizjkj += parseFloat($(v).val());            }        })        $('input[name="suzhizjkj_hj"]').val(suzhizjkj);        // 其他扣罚        $('input[name="qitakf[]"]').each(function(k,v){            if ($(v).val() > 0){                qitakf += parseFloat($(v).val());            }        })        $('input[name="qitakf_hj"]').val(qitakf);        // 浮动合计        $('input[name="fudonghj[]"]').each(function(k,v){            if ($(v).val() > 0){                fudonghj += parseFloat($(v).val());            }        })        $('input[name="fudonghj_hj"]').val(fudonghj);        // 月度应发发总计        $('input[name="yueduyffzj[]"]').each(function(k,v){            if ($(v).val() > 0){                yueduyffzj += parseFloat($(v).val());            }        })        $('input[name="yueduyffzj_hj"]').val(yueduyffzj);        // 公积金        $('input[name="gongjij[]"]').each(function(k,v){            if ($(v).val() > 0){                gongjij += parseFloat($(v).val());            }        })        $('input[name="gongjij_hj"]').val(gongjij);         //  个人社保         $('input[name="gerensb[]"]').each(function(k,v){            if ($(v).val() > 0){                gerensb += parseFloat($(v).val());            }        })        $('input[name="gerensb_hj"]').val(gerensb);         //  个人所得税          $('input[name="gerensds[]"]').each(function(k,v){            if ($(v).val() > 0){                gerensds += parseFloat($(v).val());            }        })        $('input[name="gerensds_hj"]').val(gerensds);        //  月度实发总计          $('input[name="yuedusfzj[]"]').each(function(k,v){            if ($(v).val() > 0){                yuedusfzj += parseFloat($(v).val());            }        })        $('input[name="yuedusfzj_hj"]').val(yuedusfzj);        //学校面积        $('input[name="xuexiaomz[]"]').each(function(k,v){            if ($(v).val() > 0){                xuexiaomz += parseFloat($(v).val());            }        })        if (xuexiaomz > parseFloat('{$fujia.xuexiaomz}')){            layer.msg('输入学校面积总数已超过实际总面积数',{'icon':2});            $(this).val('0');        }        //在读学生        $('input[name="zaidurs[]"]').each(function(k,v){            if ($(v).val() > 0){                zaidurs += parseFloat($(v).val());            }        })        if (zaidurs > parseFloat('{$fujia.zaidurs}')){            layer.msg('输入在读学生总数已超过实际在读学生',{'icon':2});            $(this).val('0');        }        //合计结束    })        //合计，要先算其他的才能合计    function jisuan(){        //学生服务管理        $('input[name="xueshengfwgl[]"]').each(function(k,v){            $(v).val(                 parseFloat( $('input[name="zaidurs[]"]').eq(k).val() ? $('input[name="zaidurs[]"]').eq(k).val() : 0) *  parseFloat('{$ambbz.学生服务管理}')            );        })        //员工服务管理        $('input[name="yuangongfwgl[]"]').each(function(k,v){            $(v).val(                 parseFloat( $('input[name="xuexiaomz[]"]').eq(k).val() ? $('input[name="xuexiaomz[]"]').eq(k).val() : 0) *  parseFloat('{$ambbz.员工服务管理}')            );        })        //卫生安全管理        $('input[name="weishengaqgl[]"]').each(function(k,v){            $(v).val(                 parseFloat( $('input[name="xuexiaomz[]"]').eq(k).val() ? $('input[name="xuexiaomz[]"]').eq(k).val() : 0) *  parseFloat('{$ambbz.卫生安全管理}')            );        })        //收费分成        $('input[name="shoufeifc[]"]').each(function(k,v){            $(v).val(                 parseFloat( $('input[name="shoufeije[]"]').eq(k).val() ? $('input[name="shoufeije[]"]').eq(k).val() : 0) *  parseFloat(0.2)            );        })        //学生服务管理（财务）        $('input[name="xueshengfwglcw[]"]').each(function(k,v){            $(v).val(                 parseFloat( $('input[name="zaidurs[]"]').eq(k).val() ? $('input[name="zaidurs[]"]').eq(k).val() : 0) * parseFloat('{$ambbz.学生服务管理（财务）}')            );        })        //员工服务管理（财务）        $('input[name="yuangongfwglcw[]"]').each(function(k,v){            $(v).val(                 parseFloat( $('input[name="zaizhiyy[]"]').eq(k).val() ? $('input[name="zaizhiyy[]"]').eq(k).val() : 0) * parseFloat('{$ambbz.员工服务管理（财务）}')            );        })        //仓库管理（财务）        $('input[name="cangkuglcw[]"]').each(function(k,v){            $(v).val(                 parseFloat( $('input[name="chukuts[]"]').eq(k).val() ? $('input[name="chukuts[]"]').eq(k).val() : 0) * parseFloat('{$ambbz.仓库管理（财务）}')            );        })    }    //提交代码    function saves(){        var data = new Array();        $('tbody tr').each(function(k,v){            data[k] = new Array();            $(v).find('td input').each(function(kd,vd){                data[k][kd] = $(vd).val();            })        })        //吧数组转对象        var json=[];        data.forEach(function(item){            var temp={};            item.forEach(function(value,index){                temp[index]=value;            });            json.push(temp);        })        var xuexiaomz = $('input[name="xuexiaomz_hj"]').val();        var zaidurs = $('input[name="zaidurs_hj"]').val();        var quyu = $('input[name="quyu"]').val();        var jibie = $('input[name="jibie"]').val();        var mubansj = $('input[name="mubansj"]').val();        var zhibiaoren = $('input[name="zhibiaoren"]').val();        var fenxiaofhr = $('input[name="fenxiaofhr"]').val();        var zongbushr = $('input[name="zongbushr"]').val();        var quyufhr = $('input[name="quyufhr"]').val();        var zongbushr = $('input[name="zongbushr"]').val();        var quyuxzrssh = $('input[name="quyuxzrssh"]').val();        // 把对象串型化        var json = JSON.stringify(data);        var input = '<input type="hidden" name="jsons" value=\''+json+'\' /><input type="hidden" name="qishu" value=\'{$qishu}\' /><input type="hidden" name="sid" value=\'{$sid}\' />';        input += '<input type="hidden" name="quyu" value=\''+quyu+'\' /><input type="hidden" name="jibie" value=\''+jibie+'\' /><input type="hidden" name="mubansj" value=\''+mubansj+'\' /><input type="hidden" name="zhibiaoren" value=\''+zhibiaoren+'\' /><input type="hidden" name="fenxiaofhr" value=\''+fenxiaofhr+'\' /><input type="hidden" name="zongbushr" value=\''+zongbushr+'\' /><input type="hidden" name="quyufhr" value=\''+quyufhr+'\' /><input type="hidden" name="zongbushr" value=\''+zongbushr+'\' /><input type="hidden" name="quyuxzrssh" value=\''+quyuxzrssh+'\' /><input type="hidden" name="xuexiaomz" value=\''+xuexiaomz+'\' /><input type="hidden" name="zaidurs" value=\''+zaidurs+'\' />';        var form_=$("<form id='uss' action='{:U('WagesXzb/saves')}' method='post'>"+input+"</form>"); //定义一个form表单        $('body').append(form_); //将表单放置在web中    //     form_.submit(); //表单提交         $.post('{:U('WagesXzb/saves')}',$('#uss').serialize(),function(data){            if(data==1){                layer.msg('保存成功',{icon:1});                setTimeout("window.location.reload()",1000);            }else{                layer.msg('保存失败',{icon:2});            }        })    }</script>